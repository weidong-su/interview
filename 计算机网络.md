# 在浏览器地址栏输入一个URL后回车，背后会进行哪些技术步骤？


当你在浏览器地址栏输入一个URL并按下回车后，浏览器会进行以下的技术步骤：

1. URL解析：浏览器首先会对你输入的URL进行解析。这涉及到检查URL的格式是否正确，以及是否包含必要的部分，如协议（如http://或https://）、域名和路径等。
2. DNS解析：浏览器需要将输入的域名（如www.baidu.com）转换为对应的IP地址。这是通过DNS（域名系统）服务器完成的。浏览器会向DNS服务器发送查询请求，获取服务器的IP地址。如果浏览器缓存中有这个域名的解析结果，那么就会直接使用缓存中的结果，否则会向DNS服务器请求解析。
3. 建立TCP连接：一旦浏览器获得了服务器的IP地址，它就会开始与服务器建立TCP（传输控制协议）连接。TCP是一种面向连接的协议，它能保证数据的可靠传输。
4. 发送HTTP请求：建立TCP连接后，浏览器会发送HTTP（超文本传输协议）请求到服务器。HTTP请求中包含了请求的资源路径、请求方法（如GET、POST等）以及请求头等信息。
5. 接收服务器响应：服务器收到浏览器的HTTP请求后，会处理请求并生成相应的HTTP响应。HTTP响应中包含了服务器返回的资源内容，如HTML文件、CSS样式、JavaScript脚本、图片等。
6. 页面渲染：浏览器接收到服务器的HTTP响应后，会开始解析和渲染页面。这涉及到解析HTML、CSS和JavaScript等，以及下载和显示图片等资源。
7. 关闭TCP连接：在数据传输完成后，浏览器会关闭与服务器的TCP连接。这是通过TCP的四次挥手过程实现的。

# TCP是如何保证可靠传输的？

> https://zhuanlan.zhihu.com/p/37379780

TCP（传输控制协议）通过多种方式保证可靠传输，主要包括以下几个方面：

1. 校验和：TCP在发送数据时，会对每个数据包进行校验和的计算。接收方在收到数据包后，也会进行同样的校验和计算。如果计算结果与发送方的校验和不匹配，接收方就会丢弃这个数据包，并通知发送方重新发送。这样可以确保数据的完整性和正确性。
2. 序列号：TCP给发送的每一个数据包（报文段）进行编号，这就是序列号。接收方会根据序列号对数据包进行排序，这样可以确保数据的顺序性。同时，序列号还可以帮助识别重复的数据包，并丢弃它们，防止数据重复。
3. 确认应答：接收方在收到数据包后，会向发送方发送确认应答（ACK），告诉发送方已经成功接收到哪些数据包。如果发送方在一定时间内没有收到确认应答，就会重新发送数据包，这就是超时重传机制。这样可以确保数据的可靠传输。
4. 流量控制：TCP使用滑动窗口协议进行流量控制，防止发送方发送的数据过多，导致接收方来不及处理。接收方会告诉发送方自己的接收窗口大小，即可以接收的最大数据量。发送方会根据接收窗口的大小来发送数据，避免数据丢失。
5. 拥塞控制：当网络拥塞时，TCP会减少数据的发送速率，避免网络拥塞进一步恶化。TCP通过监测网络拥塞的程度，动态调整发送速率，保证数据的可靠传输。

总的来说，TCP通过以上几种方式，保证了数据的可靠传输，即数据的完整性、顺序性、可靠性和流量控制。

# TCP和UDP的区别

TCP和UDP都是传输层的协议，但它们在多个方面存在显著的区别。

连接性：TCP是面向连接的协议，发送数据前需要与目标主机建立连接，相当于打电话功能，必须先拨号，接通后才能说话。而UDP是无连接的协议，发送数据前不需要建立连接，直接发送，相当于发短信，直接向另一方发送数据，不需要先建立连接。
可靠性：TCP提供可靠的数据传输，它使用确认、重传和流量控制等机制来确保数据的完整性和可靠性。UDP不提供可靠性保证，它没有确认和重传机制，数据传输可能会丢失或乱序，需要程序员自己确定。
传输效率：由于TCP提供可靠性保证，其传输效率相对较低。而UDP没有可靠性保证，传输效率较高。
数据包大小：TCP将数据流划分为多个小的数据包进行传输，数据包大小没有限制。而UDP将数据划分为固定大小的数据报进行传输，每个数据报的大小有限制。
应用场景：TCP适用于对数据可靠性要求较高的应用，如文件传输、电子邮件等。而UDP适用于对实时性要求较高的应用，如音视频传输、实时游戏等。
数据形式：TCP是面向字节流的，它将应用层传递下来的数据当做无结构的数据流，并可能将应用程序的两个数据块拼接到一起组成一个段发送。而UDP是面向报文传输的，发送方的UDP对应用程序交下来的报文，在添加首部后就向下交付IP层。
