# 在浏览器地址栏输入一个URL后回车，背后会进行哪些技术步骤？


当你在浏览器地址栏输入一个URL并按下回车后，浏览器会进行以下的技术步骤：

1. URL解析：浏览器首先会对你输入的URL进行解析。这涉及到检查URL的格式是否正确，以及是否包含必要的部分，如协议（如http://或https://）、域名和路径等。
2. DNS解析：浏览器需要将输入的域名（如www.baidu.com）转换为对应的IP地址。这是通过DNS（域名系统）服务器完成的。浏览器会向DNS服务器发送查询请求，获取服务器的IP地址。如果浏览器缓存中有这个域名的解析结果，那么就会直接使用缓存中的结果，否则会向DNS服务器请求解析。
3. 建立TCP连接：一旦浏览器获得了服务器的IP地址，它就会开始与服务器建立TCP（传输控制协议）连接。TCP是一种面向连接的协议，它能保证数据的可靠传输。
4. 发送HTTP请求：建立TCP连接后，浏览器会发送HTTP（超文本传输协议）请求到服务器。HTTP请求中包含了请求的资源路径、请求方法（如GET、POST等）以及请求头等信息。
5. 接收服务器响应：服务器收到浏览器的HTTP请求后，会处理请求并生成相应的HTTP响应。HTTP响应中包含了服务器返回的资源内容，如HTML文件、CSS样式、JavaScript脚本、图片等。
6. 页面渲染：浏览器接收到服务器的HTTP响应后，会开始解析和渲染页面。这涉及到解析HTML、CSS和JavaScript等，以及下载和显示图片等资源。
7. 关闭TCP连接：在数据传输完成后，浏览器会关闭与服务器的TCP连接。这是通过TCP的四次挥手过程实现的。

# TCP是如何保证可靠传输的？

> https://zhuanlan.zhihu.com/p/37379780

TCP（传输控制协议）通过多种方式保证可靠传输，主要包括以下几个方面：

1. 校验和：TCP在发送数据时，会对每个数据包进行校验和的计算。接收方在收到数据包后，也会进行同样的校验和计算。如果计算结果与发送方的校验和不匹配，接收方就会丢弃这个数据包，并通知发送方重新发送。这样可以确保数据的完整性和正确性。
2. 序列号：TCP给发送的每一个数据包（报文段）进行编号，这就是序列号。接收方会根据序列号对数据包进行排序，这样可以确保数据的顺序性。同时，序列号还可以帮助识别重复的数据包，并丢弃它们，防止数据重复。
3. 确认应答：接收方在收到数据包后，会向发送方发送确认应答（ACK），告诉发送方已经成功接收到哪些数据包。如果发送方在一定时间内没有收到确认应答，就会重新发送数据包，这就是超时重传机制。这样可以确保数据的可靠传输。
4. 流量控制：TCP使用滑动窗口协议进行流量控制，防止发送方发送的数据过多，导致接收方来不及处理。接收方会告诉发送方自己的接收窗口大小，即可以接收的最大数据量。发送方会根据接收窗口的大小来发送数据，避免数据丢失。
5. 拥塞控制：当网络拥塞时，TCP会减少数据的发送速率，避免网络拥塞进一步恶化。TCP通过监测网络拥塞的程度，动态调整发送速率，保证数据的可靠传输。

总的来说，TCP通过以上几种方式，保证了数据的可靠传输，即数据的完整性、顺序性、可靠性和流量控制。

# TCP和UDP的区别

> https://jaminzhang.github.io/network/The-Difference-Between-TCP-And-UDP-Protocol/

TCP和UDP都是传输层的协议，但它们在多个方面存在显著的区别。

1. 连接性：TCP是面向连接的协议，发送数据前需要与目标主机建立连接，相当于打电话功能，必须先拨号，接通后才能说话。而UDP是无连接的协议，发送数据前不需要建立连接，直接发送，相当于发短信，直接向另一方发送数据，不需要先建立连接。
2. 可靠性：TCP提供可靠的数据传输，它使用确认、重传和流量控制等机制来确保数据的完整性和可靠性。UDP不提供可靠性保证，它没有确认和重传机制，数据传输可能会丢失或乱序，需要程序员自己确定。
3. 传输效率：由于TCP提供可靠性保证，其传输效率相对较低。而UDP没有可靠性保证，传输效率较高。
4. 应用场景：TCP适用于对数据可靠性要求较高的应用，如文件传输、电子邮件等。而UDP适用于对实时性要求较高的应用，如音视频传输、实时游戏等。
5. 数据形式：TCP是面向字节流的，它将应用层传递下来的数据当做无结构的数据流，并可能将应用程序的两个数据块拼接到一起组成一个段发送。而UDP是面向报文传输的，发送方的UDP对应用程序交下来的报文，在添加首部后就向下交付IP层。

# HTTPS和HTTP的区别
HTTPS和HTTP的主要区别体现在以下几个方面：

1. 安全性：HTTP是一个简单的请求-响应协议，特点是无状态和明文传输。这意味着使用HTTP协议传输的数据都是未加密的，因此传输隐私信息非常不安全。相反，HTTPS是HTTP加上SSL协议组合形成的一种加密传输协议，对网站与客户端之间传输的数据进行加密，因此不存在数据泄露的问题，具有更高的安全性。
2. 响应速度：理论上，HTTP的响应速度更快，因为它只需三次握手即可建立连接。而HTTPS除了三次握手外，还需进行SSL握手，因此总共需要12个包，这可能导致其响应速度稍慢于HTTP。
3. 端口：HTTP和HTTPS使用完全不同的连接方式，并采用不同的端口。HTTP使用的是80端口，而HTTPS则使用443端口。
4. 资源消耗：由于HTTPS是构建在SSL之上的HTTP协议，因此它会消耗更多的服务器资源。
5. 费用：HTTPS协议需要到CA申请证书，一般免费证书较少，因此可能需要一定的费用。而HTTP则无需此类费用。

# http1.0 / 1.1 / 2 / 3的区别

HTTP1.0、HTTP1.1、HTTP2和HTTP3这几个版本的主要区别体现在连接管理、资源请求、头部处理、性能提升以及安全性等方面。

1. 连接管理：
HTTP1.0默认使用非持久连接，即每次请求都需要建立一个新的TCP连接，并在请求完成后关闭连接。这种连接方式在处理大量请求时可能会产生较大的开销。
HTTP1.1引入了持久连接（也称为长连接），通过Connection: keep-alive头部字段实现。这使得多个请求可以复用同一个TCP连接，减少了建立和关闭连接的开销。
HTTP2采用了二进制分帧层，使得多个请求可以并发地在一个单一的连接上执行，进一步提高了效率。

2. 资源请求：
HTTP1.0在处理资源请求时，如果客户端只需要对象的一部分，服务器仍然会发送整个对象，这可能导致带宽的浪费。
HTTP1.1引入了Range头部字段，支持分片资源传输，允许客户端只请求资源的某个部分。
HTTP2通过多路复用，支持多个请求并发，不存在队头阻塞的问题，可以更有效地利用带宽。

3.头部处理：
HTTP1.1增加了多种缓存处理的请求头，提供了更丰富的缓存控制策略。
HTTP2引入了头部压缩机制，使用HPACK算法对头部信息进行压缩，减少了传输开销。

4. 性能提升：
HTTP1.1通过引入持久连接和请求流水线处理（Pipelining），减少了连接建立和请求处理的延迟。
HTTP2进一步通过二进制编码、多路复用等技术，显著提高了传输效率。
HTTP3基于QUIC协议，进一步减少了连接延迟，提高了网络传输的效率。

5. 安全性：
HTTP1.0和HTTP1.1都是明文传输，存在安全风险。虽然HTTP1.1提供了更多的缓存和安全性控制，但仍然不支持服务器推送消息。
HTTP2虽然提高了性能，但在安全性方面并没有直接改进。
HTTP3基于UDP的QUIC协议，提供了更好的安全性和可靠性保证。

总的来说，从HTTP1.0到HTTP3，每个版本都在不断地优化和改进，以更好地适应网络环境和应用需求的变化。随着技术的不断发展，未来的HTTP版本可能会继续引入更多的新特性和优化措施。
